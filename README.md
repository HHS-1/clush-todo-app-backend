# ν”„λ΅μ νΈλ…: [ClushTodoApp - backend]  with Spring Boot 3.4.0

## 1. μμ‹ μ΄ κ°λ°ν• μ•±μ— λ€ν• μ„¤λ…

**ClushTodoApp**μ€ κ°μΈμ μΈ μ©λ„λ΅λ„ μ‚¬μ© κ°€λ¥ν•λ©°, ν€ λλ” κ·Έλ£Ή λ“± κ³µμ©μΌλ΅λ„ ν™μ©ν•  μ μλ” λ‹¤λ©μ  μΊλ¦°λ” μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ…λ‹λ‹¤. μ‚¬μ©μλ” λ‚ μ§λ³„λ΅ ν•  μΌμ„ μ¶”κ°€ν•κ³  κ΄€λ¦¬ν•  μ μμΌλ©°, μ§κ΄€μ μΈ μΊλ¦°λ” UIλ¥Ό ν†µν•΄ μΌμ •μ„ ν• λμ— μ‰½κ² ν™•μΈν•  μ μμµλ‹λ‹¤.

λν•, κ°€μ…ν• μ‚¬μ©μ κ°„μ— μΊλ¦°λ”λ¥Ό κ³µμ ν•  μ μλ” κΈ°λ¥μ„ μ κ³µν•μ—¬, κ³µμ λ μΊλ¦°λ”λ¥Ό λ°”νƒ•μΌλ΅ μΌμ •μ„ μ†μ‰½κ² κ΄€λ¦¬ν•κ³  ν‘μ—…ν•  μ μμµλ‹λ‹¤. κ°μΈμ μΌμ •λΏλ§ μ•„λ‹λΌ, ν€μ›λ“¤κ³Όμ μΌμ • μ΅°μ¨μ΄ ν•„μ”ν• κ²½μ°μ—λ„ μ μ©ν• κΈ°λ¥μ„ μ κ³µν•©λ‹λ‹¤.

**π©ν”„λ΅ νΈ λ° λ°±μ—”λ“ λ¨λ‘ λ°°ν¬λ¥Ό μ™„λ£ν•μ€μµλ‹λ‹¤.
http://34.22.66.2/
μ£Όμ†λ΅ μ΄λ™ν•΄ ν™•μΈν•μ‹¤ μ μμµλ‹λ‹¤.π©**

λ°λ¨κ³„μ • : 
ID qazplm1021@naver.com, PW test
ID qazplm10219@gmail.com , PW test

**μ£Όμ” κΈ°λ¥**:
- **ToDo**: μ λ©, λ‚΄μ©, λ‚ μ§, μ°μ„ μμ„, μ§„ν–‰μƒνƒλ΅ μ΄λ£¨μ–΄μ§„ ToDoλ°μ΄ν„°λ¥Ό μƒμ„±, μ΅°ν, μμ •ν•  μ μμµλ‹λ‹¤. 
- **μΊλ¦°λ”(κ°μΈ)**: ToDoλ¥Ό μƒμ„±ν•¨μ— λ”°λΌ μΊλ¦°λ”μ— ν‘μ‹κ°€ λλ©°, μ°μ„ μμ„μ— λ”°λΌ μƒ‰μ΄ λ‹¤λ¥΄κ² ν‘μ‹λ©λ‹λ‹¤.
- **μΊλ¦°λ”(κ³µμ )**: μ΄λ©”μΌμ„ ν†µν•΄ κ°€μ…μλ¥Ό μ΄λ€ν•λ©°, κ³µμ  μ‘μ—…μμ™€ ν•¨κ» μΊλ¦°λ”μ λ‚ μ§ μΉΈμ„ ν΄λ¦­ν•μ—¬ μ‘μ—…μ„ μ¶”κ°€ν•  μ μμµλ‹λ‹¤.

### κΈ°μ  μ¤νƒ
- **Spring Boot 3.4.0**
- **mysql 8.0.36**
- **JPA**
- **Spring Security**
- **JWT**
- **Javax.mail**
- **Juit**
- **Swagger**
- **Google Cloud PlatForm**
- **Nginx**

## 2. μ†μ¤ λΉλ“ λ° μ‹¤ν–‰ λ°©λ²• λ©”λ‰΄μ–Ό(λ΅μ»¬)

### 2.1. ν”„λ΅μ νΈ λΉλ“ λ° μ‹¤ν–‰ λ°©λ²•

1. **Git Clone**:
   ```bash
   git clone https://github.com/HHS-1/clush-todo-app-backend.git

2. **properties νμΌ μ €μ¥**
   μ„λ²„ μ •λ³΄κ°€ λ‹΄κΈ΄ properties νμΌμ„ src/main/resourceμ— μ €μ¥ν•©λ‹λ‹¤.

3. **ν”„λ΅μ νΈ μ‹¤ν–‰**
   ```bash
   mvn clean install   // μμ΅΄μ„± μ„¤μΉ
   mvn spring-boot:run // μ–΄ν”λ¦¬μΌ€μ΄μ… μ‹¤ν–‰

   http://localhost:8080 μ ‘μ† ν›„ μ‹¤ν–‰ ν™•μΈ
4. **ν”„λ΅ νΈ(React)μ™€ ν•¨κ» μ‹¤ν–‰   

### 2.2. DB μ¤ν‚¤λ§ λ° κΈ°μ΄λ°μ΄ν„° λ°±μ—… νμΌ

1. DB μ¤ν‚¤λ§ νμΌ λ§ν¬ : [https://github.com/HHS-1/clush-todo-app-backend/blob/main/db-schema.sql](https://github.com/HHS-1/clush-todo-app-backend/blob/main/schema_backup.sql)
2. κΈ°μ΄λ°μ΄ν„° λ°±μ—… νμΌ λ§ν¬ : [https://github.com/HHS-1/clush-todo-app-backend/blob/main/db-initial.sql](https://github.com/HHS-1/clush-todo-app-backend/blob/main/initial_backup.sql)



## 3. μ£Όλ ¥μΌλ΅ μ‚¬μ©ν• λΌμ΄λΈλ¬λ¦¬μ™€ κ·Έ μ΄μ 
**1. Spring Security, JJWT, Redis**
- μ‚¬μ©μ μΈμ¦ / μΈκ°€λ¥Ό ν†µν• λ³΄μ• κ°•ν™”
- μΈμ¦λ μ‚¬μ©μμ— ν•μ— SecurityContextHolderμ— μΈμ¦μ •λ³΄λ¥Ό μ €μ¥ν•μ—¬ μ‚¬μ©μμ μ•„μ΄λ””(id)λ¥Ό κ°€μ Έμ¤λ” Utilμ½”λ“ μ‘μ„± -> DB μ΅°ν μ‹ μ μ©ν•κ² μ‚¬μ©ν•¨.
- AccessTokenμ€ HTTPOnly μΏ ν‚¤μ— μ €μ¥ν•κ³ , RefreshTokenμ€ Redisμ— μ €μ¥ν•μ—¬ ν΄λΌμ΄μ–ΈνΈκ°€ ν† ν°μ— μ ‘κ·Όν•  μ μ—†λ„λ΅ ν•¨.

**2. Springdoc**
- RESTApi λ…μ„Έμ„ μ‘μ„±μ„ μ„ν•΄ μ‚¬μ©.

**3. Junit**
- ν…μ¤νΈ μ½”λ“ μ‘μ„±

**4. Lombok**
- getter,setter, μƒμ„±μ μλ™ μ£Όμ…μ„ μ„ν•¨.

**5. javax.mail**
- μΊλ¦°λ” κ³µμ λ¥Ό μ„ν• μ΄λ©”μΌ μ΄λ€ λ°©μ‹ κµ¬ν„μ„ μ„ν•¨.



## 4. RESTApi
http://34.22.66.2:8081/swagger-ui/index.html λλ”
http://localhost:8081/swagger-ui/index.html



## 5. ν…μ¤νΈ μΌ€μ΄μ¤ - ν…μ¤νΈ μ„¤λ…

# 1. CalendarServiceTest

### λ©μ 
`CalendarService`κ°€ μ¬λ°”λ¥΄κ² λ™μ‘ν•λ”μ§€ ν™•μΈν•κΈ° μ„ν• ν…μ¤νΈμ…λ‹λ‹¤.

### ν…μ¤νΈ κ³Όμ •
- **getCalendar_WhenDataExists_ReturnsOk**
  - `CalendarService`μ `getCalendarService()` λ©”μ„λ“κ°€ `findByUserIdAndDateStartingWith` λ©”μ„λ“μ—μ„ λ°ν™λ λ°μ΄ν„°λ¥Ό μ •μƒμ μΌλ΅ λ°ν™ν•λ”μ§€ ν™•μΈν•©λ‹λ‹¤.
  - λ°μ΄ν„°κ°€ μ΅΄μ¬ν•λ” κ²½μ°, μ‘λ‹µμ΄ μ •μƒμ μΌλ΅ `200 OK`λ΅ λ°ν™λμ–΄μ•Ό ν•©λ‹λ‹¤.
  
### κΈ°λ€ κ²°κ³Ό
- μΊλ¦°λ” λ°μ΄ν„°κ°€ μ •μƒμ μΌλ΅ λ°ν™λλ©°, `200 OK` μ‘λ‹µμ΄ λ°ν™λ©λ‹λ‹¤.

---

# 2. EmailServiceTest

### λ©μ 
`EmailService`μ μ΄λ©”μΌ μ „μ†΅ κΈ°λ¥μ„ ν…μ¤νΈν•©λ‹λ‹¤.

### ν…μ¤νΈ κ³Όμ •
- **sendEmailService_WhenUserExists_ReturnsOk**
  - μ΄λ©”μΌμ„ λ³΄λ‚΄λ” λ€μƒ μ‚¬μ©μκ°€ μ΅΄μ¬ν•λ” κ²½μ°, μ΄λ©”μΌμ΄ μ •μƒμ μΌλ΅ μ „μ†΅λλ”μ§€ ν™•μΈν•©λ‹λ‹¤.
  - μ΄λ©”μΌμ΄ μ •μƒμ μΌλ΅ μ „μ†΅λλ©΄ `200 OK` μ‘λ‹µμ΄ λ°ν™λμ–΄μ•Ό ν•©λ‹λ‹¤.

- **sendEmailService_WhenUserNotFound_ReturnsNotFound**
  - μ΄λ©”μΌμ„ λ³΄λ‚΄λ ¤λ” λ€μƒ μ‚¬μ©μκ°€ μ΅΄μ¬ν•μ§€ μ•μ„ κ²½μ°, `404 Not Found` μ‘λ‹µμ΄ λ°ν™λμ–΄μ•Ό ν•©λ‹λ‹¤.
  
- **sendEmailService_WhenMessagingExceptionOccurs_ReturnsInternalServerError**
  - μ΄λ©”μΌ μ „μ†΅ λ„μ¤‘ λ©”μ‹μ§• μμ™Έκ°€ λ°μƒν•λ” κ²½μ°, `500 Internal Server Error` μ‘λ‹µμ΄ λ°ν™λμ–΄μ•Ό ν•©λ‹λ‹¤.

### κΈ°λ€ κ²°κ³Ό
- μ‚¬μ©μκ°€ μ΅΄μ¬ν•  κ²½μ° `200 OK`, μ‚¬μ©μκ°€ μ΅΄μ¬ν•μ§€ μ•μ„ κ²½μ° `404 Not Found`, μμ™Έ λ°μƒ μ‹ `500 Internal Server Error` μ‘λ‹µμ΄ λ°ν™λμ–΄μ•Ό ν•©λ‹λ‹¤.

---

# 3. SharedCalendarServiceTest

### λ©μ 
`SharedCalendarService`μ κ³µμ  μΊλ¦°λ” κ΄€λ ¨ κΈ°λ¥μ„ ν…μ¤νΈν•©λ‹λ‹¤.

### ν…μ¤νΈ κ³Όμ •
- **getSharedCalendarService_WhenDataExists_ReturnsOk**
  - κ³µμ  μΊλ¦°λ” λ°μ΄ν„°κ°€ μ΅΄μ¬ν•λ” κ²½μ°, ν•΄λ‹Ή λ°μ΄ν„°λ¥Ό μ •μƒμ μΌλ΅ λ°ν™ν•λ”μ§€ ν™•μΈν•©λ‹λ‹¤.
  - λ°μ΄ν„°κ°€ μ΅΄μ¬ν•λ” κ²½μ° `200 OK` μ‘λ‹µμ΄ λ°ν™λμ–΄μ•Ό ν•©λ‹λ‹¤.

- **createSharedCalendarService_WhenValidData_ReturnsOk**
  - μ ν¨ν• λ°μ΄ν„°κ°€ μ£Όμ–΄μ΅μ„ λ•, κ³µμ  μΊλ¦°λ”κ°€ μ •μƒμ μΌλ΅ μƒμ„±λλ”μ§€ ν™•μΈν•©λ‹λ‹¤.
  - μ •μƒμ μΌλ΅ μƒμ„±λ κ²½μ° `200 OK` μ‘λ‹µμ΄ λ°ν™λ©λ‹λ‹¤.

- **createSharedToDoService_WhenValidData_ReturnsOk**
  - μ ν¨ν• λ°μ΄ν„°λ¥Ό μ‚¬μ©ν•μ—¬ ν•  μΌμ΄ μ •μƒμ μΌλ΅ μƒμ„±λλ”μ§€ ν™•μΈν•©λ‹λ‹¤.
  - ν•  μΌμ΄ μ •μƒμ μΌλ΅ μƒμ„±λλ©΄ `200 OK` μ‘λ‹µμ΄ λ°ν™λ©λ‹λ‹¤.

- **getSharedCalendarService_WhenCalendarNotFound_ReturnsNotFound**
  - μ”μ²­λ μΊλ¦°λ”κ°€ μ΅΄μ¬ν•μ§€ μ•μ„ κ²½μ° `404 Not Found` μ‘λ‹µμ΄ λ°ν™λμ–΄μ•Ό ν•©λ‹λ‹¤.

- **shareCalendarService_WhenAuthenticated_ReturnsRedirect**
  - μΈμ¦λ μ‚¬μ©μκ°€ μΊλ¦°λ”λ¥Ό κ³µμ ν•  λ•, λ¦¬λ‹¤μ΄λ ‰μ… μ‘λ‹µμ΄ λ°ν™λλ”μ§€ ν™•μΈν•©λ‹λ‹¤.
  - μΈμ¦λ μ‚¬μ©μμ κ²½μ°, μ μ ν• λ¦¬λ‹¤μ΄λ ‰μ… μ‘λ‹µμ΄ λ°ν™λ©λ‹λ‹¤.

### κΈ°λ€ κ²°κ³Ό
- κ° κΈ°λ¥μ— λ€ν•΄ μ •μƒμ μΈ HTTP μ‘λ‹µ μ½”λ“κ°€ λ°ν™λ©λ‹λ‹¤. μλ¥Ό λ“¤μ–΄, λ°μ΄ν„°κ°€ μ΅΄μ¬ν•κ±°λ‚ μ ν¨ν• κ²½μ° `200 OK`, μΊλ¦°λ”κ°€ μ—†κ±°λ‚ μΈμ¦λμ§€ μ•μ€ κ²½μ° `404 Not Found` λλ” `401 Unauthorized`, μΈμ¦λ μ‚¬μ©μμ—κ²λ” λ¦¬λ‹¤μ΄λ ‰μ… μ‘λ‹µμ΄ λ°ν™λ©λ‹λ‹¤.

## 6. μ‹μ—°μμƒ
https://github.com/HHS-1/clush-todo-app-backend/raw/refs/heads/main/%EA%B3%B5%EC%9C%A0%EC%BA%98%EB%A6%B0%EB%8D%94%20%EC%8B%9C%EC%97%B0%EC%97%B0%EC%83%81.mp4

